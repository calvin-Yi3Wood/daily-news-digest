# =============================================
# ç³»ç»Ÿé…ç½®æ–‡ä»¶
# =============================================
# ç‰ˆæœ¬: V1.0
# åˆ›å»ºæ—¶é—´: 2025-11-10
# è¯´æ˜: ä¸»é…ç½®æ–‡ä»¶ï¼Œå¯éšæ—¶ä¿®æ”¹å‚æ•°
# =============================================

# ç³»ç»ŸåŸºç¡€é…ç½®
system:
  # é¡¹ç›®åç§°
  name: "Daily News Digest"

  # é¡¹ç›®ç‰ˆæœ¬
  version: "1.0.0"

  # æ—¶åŒºè®¾ç½®ï¼ˆç”¨äºæ—¥å¿—å’Œæ—¶é—´æ˜¾ç¤ºï¼‰
  timezone: "Asia/Shanghai"

  # æ—¥å¿—é…ç½®
  logging:
    level: "INFO"  # DEBUG, INFO, WARNING, ERROR
    format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
    file_path: "logs"

# GitHub Actionså®šæ—¶ä»»åŠ¡é…ç½®
schedule:
  # Cronè¡¨è¾¾å¼ï¼ˆGitHub Actionsä½¿ç”¨UTCæ—¶é—´ï¼‰
  # "0 0 * * *" = æ¯å¤©UTC 0:00ï¼ˆåŒ—äº¬æ—¶é—´8:00ï¼‰
  cron: "0 0 * * *"

  # å…è®¸æ‰‹åŠ¨è§¦å‘
  manual_trigger: true

# GLM APIé…ç½®
glm:
  # æ¨¡å‹åç§°
  model: "glm-4-assistant"

  # æœç´¢æ™ºèƒ½ä½“IDï¼ˆå®˜æ–¹æœç´¢æ™ºèƒ½ä½“ï¼‰
  assistant_id: "659e54b1b8006379b4b2abd6"

  # æœ€å¤§Tokenæ•°ï¼ˆæ¯æ¬¡æœç´¢å’Œæ‘˜è¦ï¼‰
  max_tokens: 5000

  # æœç´¢ç»“æœæ•°é‡ï¼ˆæ¯ä¸ªå…³é”®è¯è¿”å›å¤šå°‘æ¡ç»“æœï¼‰
  search_count: 10

  # æœç´¢æ—¶é—´èŒƒå›´ï¼ˆâš ï¸ é‡è¦ï¼šç¡®ä¿åªè·å–æœ€æ–°èµ„è®¯ï¼‰
  # 24h = æœ€è¿‘24å°æ—¶ï¼ˆæ¨èï¼Œæ¯æ—¥æ¨é€ä½¿ç”¨ï¼‰
  # 3d = æœ€è¿‘3å¤©
  # 7d = æœ€è¿‘7å¤©
  time_range: "24h"

  # æ¸©åº¦å‚æ•°ï¼ˆ0-1ï¼Œè¶Šå°è¶Šç¡®å®šæ€§ï¼Œè¶Šå¤§è¶Šéšæœºï¼‰
  temperature: 0.6

  # è¶…æ—¶è®¾ç½®ï¼ˆç§’ï¼‰
  timeout: 60

  # é‡è¯•é…ç½®
  retry:
    max_attempts: 3
    delay: 5  # ç§’

# GitHub Trendingé…ç½®
github:
  # è·å–è¶‹åŠ¿é¡¹ç›®çš„æ—¶é—´èŒƒå›´ï¼ˆå¤©ï¼‰
  # âš ï¸ é‡è¦ï¼šç¡®ä¿åªè·å–æœ€æ–°é¡¹ç›®
  # 1 = æœ€è¿‘1å¤©ï¼ˆæ¨èï¼Œæ¯æ—¥æ¨é€ä½¿ç”¨ï¼‰
  # 3 = æœ€è¿‘3å¤©
  # 7 = æœ€è¿‘7å¤©
  trending_days: 1

  # è¿”å›å‰Nä¸ªé¡¹ç›®
  top_n: 10

  # ç¼–ç¨‹è¯­è¨€è¿‡æ»¤ï¼ˆç•™ç©ºè¡¨ç¤ºæ‰€æœ‰è¯­è¨€ï¼‰
  languages:
    - "Python"
    - "JavaScript"
    - "TypeScript"
    - "Go"
    - "Rust"

  # æ˜¯å¦ä½¿ç”¨GitHub Tokenï¼ˆæé«˜APIé€Ÿç‡é™åˆ¶ï¼‰
  use_token: false

  # APIè¶…æ—¶ï¼ˆç§’ï¼‰
  timeout: 30

# å†…å®¹å»é‡é…ç½®
deduplication:
  # æ ‡é¢˜ç›¸ä¼¼åº¦é˜ˆå€¼ï¼ˆ0-1ï¼Œ0.8è¡¨ç¤º80%ç›¸ä¼¼å³åˆ¤å®šä¸ºé‡å¤ï¼‰
  similarity_threshold: 0.8

  # æ˜¯å¦å¯ç”¨URLå»é‡
  url_dedup: true

  # æ˜¯å¦å¯ç”¨æ ‡é¢˜å»é‡
  title_dedup: true

  # æ—¶é—´çª—å£å»é‡ï¼ˆå°æ—¶ï¼Œ24è¡¨ç¤º24å°æ—¶å†…åŒä¸€äº‹ä»¶åªä¿ç•™æœ€æ–°ï¼‰
  time_window: 24

# Markdownæ ¼å¼åŒ–é…ç½®
formatter:
  # ä½¿ç”¨æ¨¡æ¿å¼•æ“
  template_engine: "jinja2"

  # æ¨¡æ¿æ–‡ä»¶è·¯å¾„
  template_path: "templates/digest.md.j2"

  # å†…å®¹åˆ†æ®µé˜ˆå€¼ï¼ˆâš ï¸ é‡è¦ï¼šå¾®ä¿¡é™åˆ¶4096**å­—èŠ‚**ï¼Œä¸æ˜¯å­—ç¬¦ï¼ï¼‰
  # ä¸­æ–‡å­—ç¬¦å 3å­—èŠ‚ï¼Œ4096Ã·3â‰ˆ1365å­—ç¬¦
  # è®¾ç½®1300å­—ç¬¦ï¼ˆçº¦3900å­—èŠ‚ï¼‰ï¼Œç•™196å­—èŠ‚ç¼“å†²
  max_chunk_size: 1300

  # æ˜¯å¦è‡ªåŠ¨åˆ†æ®µ
  auto_split: true

# å¾®ä¿¡æ¨é€é…ç½®
wechat:
  # æ¶ˆæ¯ç±»å‹ï¼ˆmarkdown/textï¼‰
  msgtype: "markdown"

  # æ˜¯å¦å¯ç”¨å¾®ä¿¡æ¨é€
  enabled: true

  # é‡è¯•é…ç½®
  retry:
    max_attempts: 3
    delay: 3  # ç§’

  # æ¨é€å¤±è´¥åæ˜¯å¦è‡ªåŠ¨åˆ‡æ¢åˆ°é‚®ç®±
  fallback_to_email: true

# é‚®ç®±æ¨é€é…ç½®
email:
  # æ˜¯å¦å¯ç”¨é‚®ç®±æ¨é€ï¼ˆä½œä¸ºä¸»æ¨é€æˆ–å¤‡ç”¨æ¨é€ï¼‰
  enabled: false

  # é‚®ä»¶ä¸»é¢˜æ¨¡æ¿
  subject_template: "ğŸ“° æ¯æ—¥èµ„è®¯æ±‡æ€» | {date}"

  # é‚®ä»¶æ ¼å¼ï¼ˆhtml/plainï¼‰
  format: "html"

  # æ˜¯å¦ä½¿ç”¨TLS
  use_tls: true

  # è¶…æ—¶ï¼ˆç§’ï¼‰
  timeout: 30

# æ¨é€ç­–ç•¥é…ç½®
push_strategy:
  # ä¸»æ¨é€æ–¹å¼ï¼ˆwechat/emailï¼‰
  primary: "wechat"

  # å¤‡ç”¨æ¨é€æ–¹å¼ï¼ˆemail/noneï¼‰
  fallback: "email"

  # ä¸»æ¨é€å¤±è´¥æ˜¯å¦å¯ç”¨å¤‡ç”¨
  enable_fallback: true

# ç¼“å­˜é…ç½®
cache:
  # æ˜¯å¦å¯ç”¨ç¼“å­˜
  enabled: true

  # ç¼“å­˜ç›®å½•
  path: "cache"

  # ç¼“å­˜æœ‰æ•ˆæœŸï¼ˆå°æ—¶ï¼‰
  ttl: 1

  # GitHub Trendingç¼“å­˜æœ‰æ•ˆæœŸï¼ˆå°æ—¶ï¼‰
  github_ttl: 6

# æ€§èƒ½ä¼˜åŒ–é…ç½®
performance:
  # æ˜¯å¦å¯ç”¨å¹¶å‘æœç´¢
  concurrent_search: true

  # æœ€å¤§å¹¶å‘æ•°
  max_workers: 5

  # è¿æ¥æ± å¤§å°
  connection_pool_size: 10

# ç›‘æ§ä¸å‘Šè­¦é…ç½®
monitoring:
  # æ˜¯å¦å¯ç”¨ç›‘æ§
  enabled: true

  # æ‰§è¡Œæ—¶é—´è¶…æ—¶å‘Šè­¦ï¼ˆåˆ†é’Ÿï¼‰
  timeout_alert: 5

  # å¤±è´¥å‘Šè­¦ï¼ˆæ˜¯å¦åœ¨æ¨é€å¤±è´¥æ—¶å‘é€å‘Šè­¦ï¼‰
  failure_alert: true

  # å‘Šè­¦æ¨é€æ–¹å¼ï¼ˆwechat/emailï¼‰
  alert_channel: "wechat"

# ç‰¹æ®ŠåŠŸèƒ½é…ç½®
features:
  # æ˜¯å¦å¯ç”¨å¤©æ°”ä¿¡æ¯ï¼ˆæœªæ¥æ‰©å±•ï¼‰
  weather: false

  # æ˜¯å¦å¯ç”¨ä¸ªæ€§åŒ–æ¨èï¼ˆæœªæ¥æ‰©å±•ï¼‰
  personalization: false

  # æ˜¯å¦å¯ç”¨æ•°æ®å­˜æ¡£ï¼ˆä¿å­˜æ¯æ—¥æ¨é€å†…å®¹ï¼‰
  archiving: true

  # å­˜æ¡£è·¯å¾„
  archive_path: "archives"

  # ç§‘æ¯”åè¨€åŠŸèƒ½é…ç½®
  kobe_quote:
    # æ˜¯å¦å¯ç”¨ç§‘æ¯”åè¨€ï¼ˆæ¯æ—¥æ¨é€ç»“å°¾ï¼‰
    enabled: true

    # åè¨€åº“æ–‡ä»¶è·¯å¾„
    quotes_file: "config/kobe_quotes.yaml"

    # æ˜¾ç¤ºæ ¼å¼ï¼ˆbilingual/en_only/zh_onlyï¼‰
    format: "bilingual"  # åŒè¯­æ˜¾ç¤º

    # é€‰æ‹©ç­–ç•¥ï¼ˆrandom/sequential/dailyï¼‰
    selection: "random"  # éšæœºé€‰æ‹©

    # æ˜¯å¦æ˜¾ç¤ºåè¨€åˆ†ç±»æ ‡ç­¾
    show_category: false

# =============================================
# é…ç½®è¯´æ˜
# =============================================
# 1. ä¿®æ”¹æ­¤æ–‡ä»¶åï¼Œä¸‹æ¬¡è¿è¡Œæ—¶è‡ªåŠ¨ç”Ÿæ•ˆ
# 2. ä¸è¦åœ¨æ­¤æ–‡ä»¶ä¸­å¡«å†™APIå¯†é’¥ï¼Œä½¿ç”¨ç¯å¢ƒå˜é‡
# 3. å¸ƒå°”å€¼ä½¿ç”¨ true/falseï¼ˆå°å†™ï¼‰
# 4. æ³¨é‡Šä»¥ # å¼€å¤´
# 5. YAMLè¯­æ³•è¦æ±‚æ³¨æ„ç¼©è¿›ï¼ˆä½¿ç”¨ç©ºæ ¼ï¼Œä¸ç”¨Tabï¼‰
# =============================================
